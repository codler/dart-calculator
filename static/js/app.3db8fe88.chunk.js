(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{259:function(e,t,r){"use strict";var a=r(4),n=r.n(a),l=r(16),c=r.n(l),o=r(3),u=r.n(o),m=r(0),i=r.n(m),s=r(20),f=c()(Array(20)).flatMap((function(e,t){return c()(Array(3)).map((function(e,r){return{score:t+1,multiplyer:r+1}}))}));f.push({score:25,multiplyer:1}),f.push({score:50,multiplyer:1});var y=f.filter((function(e){return 2===e.multiplyer||50===e.score})),p={};var E=r(176);var b=function(e,t){var r=Object(m.useState)(t),a=u()(r,2),n=a[0],l=a[1],c=Object(m.useState)(!0),o=u()(c,2),i=o[0],s=o[1];return Object(m.useEffect)((function(){E.a.getItem(e).then((function(e){return null===e?t:JSON.parse(e)})).then(l).then((function(){return s(!1)}))}),[e]),[n,function(t){var r=t instanceof Function?t(n):t;return l(r),E.a.setItem(e,JSON.stringify(r))},i]},v=r(135),S=r(134),d=r(11),h=function(e){return e?e.multiplyer>1?e.score+"x"+e.multiplyer:""+e.score:"____"},P=s.theme.colors.coolGray[800];function x(){var e=Object(s.useSafeArea)({safeAreaTop:!0,pt:2}),t=b("numberOfPlayers","2"),r=u()(t,2),a=r[0],l=r[1],o=b("numberOfDarts","3"),m=u()(o,2),E=m[0],v=m[1],S=b("startPoint","301"),x=u()(S,2),O=x[0],I=x[1],T={numberOfPlayers:parseInt(a),numberOfDarts:parseInt(E),startPoint:parseInt(O)},B=[[]],D=b("gameState",B),w=u()(D,2),k=w[0],C=w[1],j=function(e){var t=T.startPoint;return k.forEach((function(r){r[e]&&(t-=Object.values(r[e]).reduce((function(e,t){return t?e+t.score*t.multiplyer:e}),0))})),t};return i.a.createElement(s.ScrollView,{style:{backgroundColor:P}},i.a.createElement(s.Center,n()({flex:1},e),i.a.createElement(s.Heading,null,"Classic Dart"),i.a.createElement(s.Stack,{direction:["column","column","row"],space:1},i.a.createElement(s.Select,{selectedValue:a,accessibilityLabel:"Number of players",placeholder:"Number of players",mt:1,onValueChange:function(e){return l(e)}},i.a.createElement(s.Select.Item,{label:"One Player",value:"1"}),i.a.createElement(s.Select.Item,{label:"Two Players",value:"2"}),i.a.createElement(s.Select.Item,{label:"Three Players",value:"3"}),i.a.createElement(s.Select.Item,{label:"Four Players",value:"4"}),i.a.createElement(s.Select.Item,{label:"Five Players",value:"5"}),i.a.createElement(s.Select.Item,{label:"Six Players",value:"6"})),i.a.createElement(s.Select,{selectedValue:E,accessibilityLabel:"Number of Darts",placeholder:"Number of Darts",mt:1,onValueChange:function(e){return v(e)}},i.a.createElement(s.Select.Item,{label:"One Dart",value:"1"}),i.a.createElement(s.Select.Item,{label:"Two Darts",value:"2"}),i.a.createElement(s.Select.Item,{label:"Three Darts",value:"3"}),i.a.createElement(s.Select.Item,{label:"Four Darts",value:"4"}),i.a.createElement(s.Select.Item,{label:"Five Darts",value:"5"}),i.a.createElement(s.Select.Item,{label:"Six Darts",value:"6"})),i.a.createElement(s.Select,{selectedValue:O,accessibilityLabel:"Start point",placeholder:"Start point",mt:1,onValueChange:function(e){return I(e)}},i.a.createElement(s.Select.Item,{label:"301 points",value:"301"}),i.a.createElement(s.Select.Item,{label:"501 points",value:"501"})),i.a.createElement(s.Button,{onPress:function(){return C(B)},mt:[2,2,1]},"RESTART GAME")),i.a.createElement(s.VStack,null,k.map((function(e,t){return i.a.createElement(d.a,{key:t,style:{marginTop:20,marginBottom:20}},i.a.createElement(s.Text,{fontSize:"lg"},"Round: ",t+1),c()(Array(T.numberOfPlayers)).map((function(r,a){return i.a.createElement(d.a,{key:a,style:{marginTop:5,marginBottom:5}},i.a.createElement(s.Text,null,"Player ",a+1),i.a.createElement(d.a,{style:{flexDirection:"row",justifyContent:"space-around",marginLeft:5,marginRight:5}},c()(Array(T.numberOfDarts)).map((function(r,n){var l;return i.a.createElement(g,{title:h(null==(l=e[a])?void 0:l[n]),key:n,onPress:function(e){return function(e,t,r,a){k[t][r]||(k[t][r]=[]),k[t][r][a]=e,C(c()(k))}(e,t,a,n)}})}))))})))})),i.a.createElement(s.Button,{onPress:function(){k.push([]),C(c()(k))}},"NEXT ROUND")),i.a.createElement(s.Flex,{direction:"row",justify:"space-around",wrap:"wrap",mt:4},c()(Array(T.numberOfPlayers)).map((function(e,t){var r=function e(t,r){if(p[r]||(p[r]={}),p[r].hasOwnProperty(t))return p[r][t];if(!(r<=0||60*r<t)){var a=f.reduce((function(a,n){if(t-n.score*n.multiplyer<0)return a;var l=e(t-n.score*n.multiplyer,r-1);l&&(a||(a=[]),a=a.concat(l.map((function(e){var t=c()(e);return t.unshift(n),t}))));var o=y.find((function(e){return e.score===n.score&&e.multiplyer===n.multiplyer}));return o&&o.score*o.multiplyer===t&&(a||(a=[]),a=a.concat([[o]])),a}),void 0);return p[r][t]=a,a}}(j(t),2);return i.a.createElement(s.Box,{key:t,m:1},i.a.createElement(s.Box,{rounded:"xl",bg:"coolGray.900",p:14},i.a.createElement(s.Text,{fontSize:"2xl"},"Player ",t+1),i.a.createElement(s.Text,{fontSize:"6xl"},j(t))),r&&i.a.createElement(s.Box,{rounded:"xl",mt:1,bg:"coolGray.700",p:14},r.map((function(e){var t=e.map(h).join(" --\x3e ");return i.a.createElement(s.Text,{key:t},t)}))))}))),i.a.createElement(s.Box,{my:32},i.a.createElement(s.Text,null,"Dart calculator made by Han Lin Yap "))))}var g=function(e){var t=Object(m.useState)(!1),r=u()(t,2),a=r[0],n=r[1],l=e.title,o=e.onPress;return i.a.createElement(i.a.Fragment,null,i.a.createElement(s.Button,{mx:2,my:1,width:60,colorScheme:h()!==l?"indigo":"success",onPress:function(){return n(!0)}},l),i.a.createElement(S.a,{onRequestClose:function(){return n(!1)},visible:a},i.a.createElement(s.ScrollView,{style:{backgroundColor:P}},i.a.createElement(d.a,null,i.a.createElement(d.a,{style:{flexDirection:"row",justifyContent:"space-around",marginTop:40,marginBottom:10}},i.a.createElement(s.Button,{colorScheme:"success",onPress:function(){o(void 0),n(!1)}},"0"),i.a.createElement(s.Button,{colorScheme:"success",onPress:function(){o({score:25,multiplyer:1}),n(!1)}},"25"),i.a.createElement(s.Button,{colorScheme:"success",onPress:function(){o({score:50,multiplyer:1}),n(!1)}},"50")),c()(Array(20)).map((function(e,t){return i.a.createElement(d.a,{key:t,style:{flexDirection:"row",justifyContent:"space-around",marginBottom:10}},c()(Array(3)).map((function(e,r){var a={score:t+1,multiplyer:r+1},l=h(a);return i.a.createElement(s.Button,{key:r,colorScheme:"success",onPress:function(){o(a),n(!1)}},l)})))}))),i.a.createElement(s.Button,{onPress:function(){return n(!1)},mb:8},"CLOSE"))))};t.a=function(){var e=Object(s.extendTheme)({config:{initialColorMode:"dark"}});return i.a.createElement(v.e,null,i.a.createElement(s.NativeBaseProvider,{theme:e},i.a.createElement(x,null)))}},261:function(e,t,r){e.exports=r(606)}},[[261,1,2]]]);
//# sourceMappingURL=app.3db8fe88.chunk.js.map